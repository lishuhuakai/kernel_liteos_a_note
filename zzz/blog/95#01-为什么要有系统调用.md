原因其实很简单,那就是要做权限管理.

有一些东西,就是不能暴露给用户进程,因为我们要保证,无论用户进程怎么折腾, 都不能将操作系统弄挂.用户进程生活在内核和硬件构建的虚拟环境之中,以arm架构为例, 用户进程不能操作协处理器,不能访问操作系统所在的内存区域......,你可以想象一下,如果这些事情,用户进程都可以干的话, 一旦用户进程出了问题,比如说踩内存,它会导致整个系统奔溃.

但是用户进程在运行过程中,确实是需要某些资源的,那就只能由操作系统待为处理了.用户进程需要资源, 直接通过系统调用向操作系统申请即可.操作系统会尽可能满足.

虽然系统调用可能会使得设备性能下降(arm下存在模式切换,寄存器切换,栈切换),但是这是值得的,因为这为系统带来了更高等级的安全性.